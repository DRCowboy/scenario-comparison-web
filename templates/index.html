<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scenario Comparison & Day Model Analysis</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        .section-title { margin-top: 2rem; margin-bottom: 1rem; }
        .form-section { background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem; }
        .result-block { background: #e9ecef; padding: 1rem; border-radius: 8px; margin-top: 1rem; }
    </style>
</head>
<body>
<div class="container">
    <h1 class="mt-4 mb-4">Scenario Comparison & Day Model Analysis</h1>

    <!-- Scenario Comparison Section -->
    <h2 class="section-title">Scenario Comparison</h2>
    <form method="POST">
        <div class="row form-section">
            <div class="col-md-6">
                <h5>Scenario 1</h5>
                {% for col, options in scenario_dropdowns.items() %}
                    <div class="mb-2">
                        <label for="scenario1_{{ col }}" class="form-label">{{ col }}</label>
                        <select class="form-select" name="scenario1_{{ col }}" id="scenario1_{{ col }}">
                            {% for opt in options %}
                                <option value="{{ opt }}" {% if scenario1_filters.get(col, 'Any') == opt %}selected{% endif %}>{{ opt }}</option>
                            {% endfor %}
                        </select>
                    </div>
                {% endfor %}
            </div>
            <div class="col-md-6">
                <h5>Scenario 2</h5>
                {% for col, options in scenario_dropdowns.items() %}
                    <div class="mb-2">
                        <label for="scenario2_{{ col }}" class="form-label">{{ col }}</label>
                        <select class="form-select" name="scenario2_{{ col }}" id="scenario2_{{ col }}">
                            {% for opt in options %}
                                <option value="{{ opt }}" {% if scenario2_filters.get(col, 'Any') == opt %}selected{% endif %}>{{ opt }}</option>
                            {% endfor %}
                        </select>
                    </div>
                {% endfor %}
            </div>
            <div class="col-12 mt-3">
                <button type="submit" name="scenario1_submit" class="btn btn-primary">Compare Scenarios</button>
            </div>
        </div>
    </form>
    {% if scenario_result %}
        <div class="result-block">
            <h6>Results</h6>
            <div>{{ scenario_result|safe }}</div>
            <div>Total rows in dataset: {{ total_rows }}</div>
        </div>
    {% endif %}

    <!-- Day Model Analysis Section -->
    <h2 class="section-title">Day Model Analysis</h2>
    <form method="POST">
        <div class="row form-section">
            {% set days = ['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5'] %}
            {% for day in days %}
                <div class="col-md-2">
                    <h6>{{ day }}</h6>
                    <div class="mb-2">
                        <label for="{{ day }}_model" class="form-label">Model</label>
                        <select class="form-select" name="{{ day }}_model" id="{{ day }}_model">
                            {% for opt in day_model_dropdowns['model'] %}
                                <option value="{{ opt }}" {% if day_model_filters.get(day, {}).get('model', 'Any') == opt %}selected{% endif %}>{{ opt }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="mb-2">
                        <label for="{{ day }}_role" class="form-label">Role</label>
                        <select class="form-select" name="{{ day }}_role" id="{{ day }}_role">
                            {% for opt in day_model_dropdowns['role'] %}
                                <option value="{{ opt }}" {% if day_model_filters.get(day, {}).get('role', 'Any') == opt %}selected{% endif %}>{{ opt }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    {% if day == 'Day 2' %}
                    <div class="mb-2">
                        <label for="Day 2_tf" class="form-label">True/False</label>
                        <select class="form-select" name="Day 2_tf" id="Day 2_tf">
                            {% for opt in day_model_dropdowns['tf'] %}
                                <option value="{{ opt }}" {% if day_model_filters.get('Day 2', {}).get('tf', 'Any') == opt %}selected{% endif %}>{{ opt }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    {% endif %}
                </div>
            {% endfor %}
            <div class="col-12 mt-3">
                <button type="submit" name="day_model_submit" class="btn btn-success">Analyze Day Model</button>
            </div>
        </div>
    </form>
    {% if day_model_result %}
        <div class="result-block">
            <h6>Day Model Result</h6>
            <div>{{ day_model_result|safe }}</div>
        </div>
    {% endif %}

    <footer class="mt-5 mb-3 text-center text-muted">
        <small>Powered by Flask & Bootstrap | &copy; {{ now().year }}</small>
    </footer>
</div>
</body>
</html> 